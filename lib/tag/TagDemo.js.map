{"version":3,"names":[],"mappings":"","sources":["tag/TagDemo.js"],"sourcesContent":["/**\n * @file Tag demo\n * @author zhaiwanli\n * @data 2017-07-27\n */\n\nimport {h, Component} from 'preact';\nimport {Tag} from '../index';\nimport {map} from '../util/lang';\nimport SingleAlert from '../dialog/SingleAlert';\n\nexport default class TagDemo extends Component {\n    state = {\n        showAlert: false,\n        alertMsg: '',\n        tags: [\n            {\n                name: 'PS4',\n                hasClose: true\n            },\n            {\n                name: '3DS'\n            },\n            {\n                name: 'Switch',\n                isChecked: true\n            },\n            {\n                name: 'XBOX360'\n            }\n        ]\n    }\n\n    handleClose(index) {\n        let newTags = this.state.tags;\n\n        SingleAlert.show({\n            show: true,\n            children: '确定删除么？',\n            onConfirm: () => {\n                newTags.splice(index, 1);\n                this.setState({\n                    tags: newTags\n                });\n                SingleAlert.hide();\n            }\n        });\n    }\n\n    handleClick(index) {\n        let newTags = this.state.tags;\n        newTags[index].isChecked = !newTags[index].isChecked;\n\n        this.setState({\n            tags: newTags\n        });\n\n        SingleAlert.show({\n            show: true,\n            children: `你点击了第${index + 1}个标签`,\n            onConfirm() {\n                SingleAlert.hide();\n            }\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                {\n                    map(this.state.tags, ({name, hasClose, isChecked}, index) => (\n                        <Tag\n                            hasClose={hasClose}\n                            onClose={() => this.handleClose(index)}\n                            isChecked={isChecked}\n                            onClick={() => this.handleClick(index)}\n                        >\n                            {name}\n                        </Tag>\n                    ))\n                }\n            </div>\n        );\n    }\n}\n"],"file":"TagDemo.js"}