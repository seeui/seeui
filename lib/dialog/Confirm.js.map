{"version":3,"sources":["dialog/Confirm.js"],"names":["Confirm","props","state","show","onConfirmShow","onShow","onConfirmHide","data","type","onHide","componentWillReceiveProps","nextProps","remain","setState","render","msg","children","title","onConfirm","dialogButtons","value","size","onClick","onCancel","bind"],"mappings":";;;;;;;;;;;;;;;;;;;;;QAUqBA,O;;;AAEjB,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA,qEACf,sBAAMA,KAAN,CADe;;AAGf,kBAAKC,KAAL,GAAa;AACTC,sBAAM;AADG,aAAb;AAHe;AAMlB;;0BAEDC,a,4BAAgB;AACZ,iBAAKH,KAAL,CAAWI,MAAX,IAAqB,KAAKJ,KAAL,CAAWI,MAAX,EAArB;AACH,S;;0BAEDC,a,0BAAcC,I,EAAM;AAChB,gBAAIA,SAASA,KAAKC,IAAL,KAAc,YAAd,IAA8BD,KAAKC,IAAL,KAAc,WAArD,CAAJ,EAAuE;AACnE,qBAAKP,KAAL,CAAWQ,MAAX,IAAqB,KAAKR,KAAL,CAAWQ,MAAX,EAArB;AACH;AACJ,S;;0BAEDC,yB,sCAA0BC,S,EAAW;AAAA,gBAC1BC,MAD0B,GACVD,SADU,CAC1BC,MAD0B;AAAA,gBAClBT,IADkB,GACVQ,SADU,CAClBR,IADkB;;;AAGjC,iBAAKU,QAAL,CAAc;AACVV,sBAAMA;AADI,aAAd;AAGH,S;;0BAEDW,M,qBAAS;AAAA;;AAAA,yBAC6C,KAAKb,KADlD;AAAA,gBACEc,GADF,UACEA,GADF;AAAA,gBACOC,QADP,UACOA,QADP;AAAA,gBACiBC,KADjB,UACiBA,KADjB;AAAA,gBACwBR,MADxB,UACwBA,MADxB;AAAA,gBACgCS,SADhC,UACgCA,SADhC;;;AAGL,gBAAIC,gBAAgB,CAChB;AACIX,sBAAM,SADV;AAEIY,uBAAO,IAFX;AAGIC,sBAAM,OAHV;AAIIC,yBAAS,mBAAM;AACX,2BAAKrB,KAAL,CAAWQ,MAAX,IAAqB,OAAKR,KAAL,CAAWQ,MAAX,EAArB;AACA,2BAAKR,KAAL,CAAWiB,SAAX,IAAwB,OAAKjB,KAAL,CAAWiB,SAAX,EAAxB;AACH;AAPL,aADgB,EASb;AACCV,sBAAM,SADP;AAECY,uBAAO,IAFR;AAGCC,sBAAM,OAHP;AAICC,yBAAS,mBAAM;AACX,2BAAKrB,KAAL,CAAWQ,MAAX,IAAqB,OAAKR,KAAL,CAAWQ,MAAX,EAArB;AACA,2BAAKR,KAAL,CAAWsB,QAAX,IAAuB,OAAKtB,KAAL,CAAWsB,QAAX,EAAvB;AACH;AAPF,aATa,CAApB;;AAoBA,mBACI;AAAA;AAAA;AACI,2BAAON,KADX;AAEI,8BAAU,IAFd;AAGI,0BAAM,KAAKf,KAAL,CAAWC,IAHrB;AAII,6BAASgB,aAJb;AAKI,4BAAQ,KAAKf,aAAL,CAAmBoB,IAAnB,CAAwB,IAAxB,CALZ;AAMI,4BAAQ,KAAKlB,aAAL,CAAmBkB,IAAnB,CAAwB,IAAxB,CANZ;AAOI,oCAAgB;AAPpB;AASKR;AATL,aADJ;AAaH,S;;;;;sBAhEgBhB,O","file":"Confirm.js","sourcesContent":["/**\n * @file Confirm\n * @author zhaiwanli\n * @time 17/7/15\n */\n\nimport {h, Component} from 'preact';\nimport classNames from '../util/classnames';\nimport Dialog from './Dialog';\n\nexport default class Confirm extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: false\n        };\n    }\n\n    onConfirmShow() {\n        this.props.onShow && this.props.onShow();\n    }\n\n    onConfirmHide(data) {\n        if (data && (data.type === 'closeClick' || data.type === 'maskClick')) {\n            this.props.onHide && this.props.onHide();\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        const {remain, show} = nextProps;\n\n        this.setState({\n            show: show\n        });\n    }\n\n    render() {\n        const {msg, children, title, onHide, onConfirm} = this.props;\n\n        let dialogButtons = [\n            {\n                type: 'primary',\n                value: '确定',\n                size: 'large',\n                onClick: () => {\n                    this.props.onHide && this.props.onHide();\n                    this.props.onConfirm && this.props.onConfirm();\n                }\n            }, {\n                type: 'default',\n                value: '取消',\n                size: 'large',\n                onClick: () => {\n                    this.props.onHide && this.props.onHide();\n                    this.props.onCancel && this.props.onCancel();\n                }\n            }\n        ];\n\n        return (\n            <Dialog\n                title={title}\n                hasClose={true}\n                show={this.state.show}\n                buttons={dialogButtons}\n                onShow={this.onConfirmShow.bind(this)}\n                onHide={this.onConfirmHide.bind(this)}\n                maskClickClose={true}\n            >\n                {children}\n            </Dialog>\n        );\n    }\n}\n"]}