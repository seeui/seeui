{"version":3,"names":[],"mappings":"","sources":["dialog/Confirm.js"],"sourcesContent":["/**\n * @file Confirm\n * @author zhaiwanli\n * @time 17/7/15\n */\n\nimport {h, Component} from 'preact';\nimport classNames from '../util/classnames';\nimport {map} from '../util/lang';\n\nimport Dialog from './Dialog';\n\nlet defaultButtons = {\n    confirm: {\n        role: 'confirm',\n        type: 'primary',\n        value: '确定',\n        size: 'large'\n    },\n    cancel: {\n        role: 'cancel',\n        type: 'default',\n        value: '取消',\n        size: 'large'\n    }\n};\n\nexport default class Confirm extends Component {\n\n    static defaultProps = {\n        prefixCls: 'cui',\n        hasClose: false,\n        maskClickClose: false,\n        buttons: []\n    };\n\n    render() {\n        const {prefixCls, className, children, buttons, onConfirm, onCancel, ...others} = this.props;\n\n        const confirmCls = classNames({\n            [`${prefixCls}-dialog-confirm`]: true,\n            [className]: className\n        });\n\n        // 配置buttons，必须传role参数\n        let dialogButtons = map(\n            buttons.length ? buttons : [defaultButtons.confirm, defaultButtons.cancel],\n            button => {\n                let role = button.role;\n                let defaultButton = defaultButtons[role];\n\n                return {\n                    ...defaultButton,\n                    button,\n                    onClick() {\n                        role === 'confirm' && onConfirm && onConfirm();\n                        role === 'cancel' && onCancel && onCancel();\n                    }\n                };\n            }\n        );\n\n        return (\n            <Dialog\n                {...others}\n                className={confirmCls}\n                buttons={dialogButtons}\n            >\n                {children}\n            </Dialog>\n        );\n    }\n}\n"],"file":"Confirm.js"}