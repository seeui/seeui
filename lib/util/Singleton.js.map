{"version":3,"names":[],"mappings":"","sources":["util/Singleton.js"],"sourcesContent":["/**\n * @file react singleton\n * https://github.com/Caesor/react-singleton\n * @author cgzero(cgzero@cgzero.com)\n * @time 2017-07-08\n */\n\nimport {h} from 'preact';\nimport {render, unmountComponentAtNode} from 'preact-compat';\n\nexport default class Singleton {\n    constructor(component) {\n        this.dom = null;\n        this.component = component;\n        this.instance = null;\n    }\n\n    show(option) {\n        if (!this.dom) {\n            this.dom = document.createElement('div');\n            document.body.appendChild(this.dom);\n        }\n\n        const Component = this.component;\n\n        this.instance = render(<Component {...option}/>, this.dom);\n        // this.instance.setState({\n        //     show: true\n        // });\n    }\n\n    hide() {\n        if (this.instance) {\n            unmountComponentAtNode(this.dom);\n            // this.instance.props.show = false;\n            // this.instance.setState({\n            //     show: false\n            // }, () => {\n            //     setTimeout(() => {\n            //         unmountComponentAtNode(this.dom);\n            //     }, 100);\n            // });\n        }\n    }\n}\n"],"file":"Singleton.js"}